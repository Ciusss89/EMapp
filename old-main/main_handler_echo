#include <stdlib.h>
#include <unistd.h>
#include <string.h>
#include <sys/types.h>
#include <sys/stat.h>
#include <fcntl.h>

#include <stdio.h>

#include "shell.h"

int echo(int argc, char *argv[])
{
	int i = 1;

	if (argc == 1) {
		write(1, "\r\n", 2);
	} else {
		while (argv[i]) {
			write(1, argv[i], strlen(argv[i]));
			write(1, "\r\n", 2);
			i++;
		}
	}

	return 0;
}

static const shell_command_t cmds[] = {
	{ "echo", "echo - display a line of text", echo },
	{ NULL, NULL, NULL }
};

int main(void)
{
	printf("RIOT on a %s board, MCU %s\n\r", RIOT_BOARD, RIOT_MCU);

	char line_buf[SHELL_DEFAULT_BUFSIZE];
	shell_run(cmds, line_buf, SHELL_DEFAULT_BUFSIZE);

	return 0;
}
